# Gemini APIキー 取得・設定 完全ガイド

## はじめに

このドキュメントは、「PDF請求書CSV変換ツール」を使用するために必要な「APIキー」の取得から設定まで、すべての手順を説明するものです。

---

## Part 1: 【最重要】準備：Google Cloudプロジェクトの作成

APIキーを取得するには、**あらかじめGoogle Cloudプロジェクトが一つ以上、存在している必要があります。** この準備がすべてにおいて最初の手順となります。

### ▼ プロジェクトをまだ持っていない場合

以下の手順で、先にGoogle Cloudプロジェクトを1つ作成してください。

1. **Google Cloudコンソールにアクセス**
   - Webブラウザで、以下のプロジェクト作成ページにアクセスします。
   - **[https://console.cloud.google.com/projectcreate](https://console.cloud.google.com/projectcreate)**
2. **プロジェクト名を入力**
   - 「プロジェクト名」の入力欄に、ご自身が分かりやすい名前を入力します。（例: `My-Gemini-Project`）
3. **【法人利用の場合】組織と場所**
   - **組織:** 会社などの団体でご利用の場合、プルダウンにご自身の会社組織名が表示されますので、そちらを選択してください。不明な場合は、社内のIT管理者にご確認ください。
   - **場所:** 個人の場合は変更不要です。法人の場合で、社内にプロジェクト作成場所のルールがあれば、それに従ってください。不明な場合は、組織を選択したままで大丈夫です。
4. **作成ボタンを押す**
   - `[作成]` ボタンを押します。
5. **【重要】請求先アカウントについて**
   - もし、これまでに一度もGoogle Cloudを利用したことがない場合、この過程で**請求先アカウントの設定（クレジットカードの登録など）**を求められることがあります。
   - これは、無料枠を超えた場合に備えるためのもので、すぐに料金が発生するわけではありませんが、画面の指示に従って設定を進めてください。

---

## Part 2: APIキーの取得

Google Cloudプロジェクトの準備ができたら、次にAPIキーを取得します。

恒久的に使用するアプリケーションのため、プロトタイプ作成用のGoogle AI Studioではなく、Google CloudコンソールからAPIキーを取得します。これにより、利用状況の管理やセキュリティ設定が可能になります。

1. Google Cloudコンソールにアクセス
   - Webブラウザで https://console.cloud.google.com/ にアクセスし、Googleアカウントでログインします。
   - 画面上部で、Part 1で作成したプロジェクトが選択されていることを確認してください。
2. 「APIとサービス」画面へ移動
   - 左側のメニューから [API とサービス] をクリックし、次に [認証情報] をクリックします。
3. APIキーを作成
   - 画面上部にある [認証情報を作成] ボタンをクリックし、ドロップダウンメニューから [API キー] を選択します。
   - APIキーが即座に生成され、ポップアップが表示されます。[コピー] ボタンをクリックして、キー（AIzaSyから始まる長い文字列）をクリップボードにコピーしてください。
4. 【推奨】セキュリティ設定（API制限）
   - コピー後、続けてセキュリティ設定を行います。これにより、不要なAPIへのアクセスを制限し、より安全に利用できます。
   - ポップアップ画面で [API キーを編集] をクリックします。
   - 「API の制限」セクションで、[キーを制限する] を選択します。
   - ドロップダウンメニューから Gemini API に関連するサービス（例：Vertex AI API、Generative Language APIなど）を選択し、[完了] をクリックします。

## Part 3: Generative Language APIの有効化

APIキーを取得した後、このAPIキーを使用する前に「Generative Language API」を有効にする必要があります。

1.  **Google Cloudコンソールにアクセス**
    - Webブラウザで https://console.cloud.google.com/ にアクセスし、Googleアカウントでログインします。
    - 画面上部で、Part 1で作成したプロジェクトが選択されていることを確認してください。
2.  **「APIとサービス」画面へ移動**
    - 左側のメニューから [API とサービス] をクリックし、次に [ライブラリ] をクリックします。
3.  **「Generative Language API」を検索し有効化**
    - 検索バーに「Generative Language API」と入力し、検索結果から「Generative Language API」を選択します。
    - 「有効にする」ボタンをクリックしてAPIを有効にします。
    - （注: 「Gemini API」として表示される場合もあります。）
    - APIが有効になるまで数分かかる場合があります。

---

## Part 4: ツールへの設定

1. 処理画面に戻り、コピーしたAPIキーを、ツールの画面下部にある `[Gemini API Key 設定]` の入力欄に貼り付けます。
2. `[保存]` ボタンを押して完了です。

---

## Part 5: 料金に関するご注意

APIの利用は、無料の範囲を超える可能性があります。APIキーの作成・利用の前に、必ず以下の料金体系をご理解の上、ご自身の責任で利用してください。

### 料金体系の概要
6
料金体系は、「無料利用枠」と「従量課金制」の組み合わせです。

1. **無料利用枠:** 毎月、一定量まで無料で使える枠が提供されています。小規模な利用であれば、無料枠で収まる可能性があります。
2. **従量課金:** 無料枠を超えた分は、利用した量に応じて料金がかかります。料金はAIモデルの種類や処理データ量で計算されます。

### ▼最新の正確な料金情報

料金は予告なく変更されるため、**利用前に必ず公式サイトで最新の料金を直接ご確認ください。**

**[Google Cloud Vertex AI 公式料金ページ](https://cloud.google.com/vertex-ai/pricing)**

---

## Part 6 (補足): Google Cloudプロジェクトを削除する方法

間違えてプロジェクトを作成してしまった場合など、不要になったプロジェクトは以下の手順で削除できます。

**【重要】ご注意**
プロジェクトを削除すると、そのプロジェクトに関連するすべてのデータや設定が最終的に失われ、元に戻すことはできなくなります。そのプロジェクトで作成したAPIキーもすべて機能しなくなります。

1. **プロジェクト設定ページにアクセス**
    - Google Cloudコンソールの設定ページに直接アクセスします。
    - **[https://console.cloud.google.com/iam-admin/settings](https://console.cloud.google.com/iam-admin/settings)**

2. **プロジェクトの選択を確認**
    - 画面上部に、現在選択されているプロジェクト名が表示されています。削除したいプロジェクト名になっていることを確認してください。

3. **シャットダウン をクリック**
    - ゴミ箱のアイコンが付いた**`[シャットダウン]`** ボタンをクリックします。

4. **プロジェクトIDを入力して最終確認**
    - 確認画面で、削除するプロジェクトのID（例: `test-my-project-470408`のような文字列）を入力するよう求められます。
    - 画面の指示に従ってIDを正確に入力し、`[シャットダウン]` ボタンをクリックします。

これで削除手続きは完了です。プロジェクトは30日間の削除保留期間を経て、完全に削除されます。
